<!DOCTYPE html>
<html lang="en">

<head>
  <title>Express</title>
  <link rel="stylesheet" href="/stylesheets/style.css">
  <script src="vue.js"></script>
</head>

<body>
  <div id="app" class="container-div">
    <h1>Welcome {{User}}</h1>
    <div class="form-div">
      <button @click="allUsers">Get all Users</button>
      <ul>
        <li v-for='(user, i) in Users'>
          {{user.data.username}}
          <span @click="fetchUser">
            <button @click="index=i" v-bind:id="i"> view profile</button>
          </span>
        </li><br><br><br>
      </ul><br>
      <hr>
      <div v-if='show'>
        <h3>{{viewedUserGen.data.username}}'s Profile</h3>
        <button onclick="call()">Call {{viewedUserGen.data.username}}</button>
      </div>
      <br>
      <hr>
      <button onclick="signOut()">Sign Out</button>
    </div>
  </div>
  <div>
    <button id="stopBtn">Stop stream</button>
    <h1>Vid Conf</h1>
    <video width="240" height="330" id="video" autoplay muted></video>
    <audio autoplay id="aud"></audio>
    <canvas id="canvas" width="640" height="480"></canvas>
    <img src="" alt="image" id="img1">
    <!-- <video width="240" height="330" id="video-2" autoplay></video> -->
  </div>
  <div class="container-div">
    <div class="form-div">
      <ul id="messages"></ul>
      <form action="">
        <input id="message" autocomplete="off" autofocus=true /><button>Send</button>
      </form>
    </div>
  </div>
  <script src="/socket.io/socket.io.js"></script>
  <script src="./javascripts/script.js"></script>
  <script src="./javascripts/chat.js"></script>
  <script>
    function signOut() {
      window.localStorage.removeItem('user');
      window.location.href = '/index.html';
    }
  </script>
</body>

</html>